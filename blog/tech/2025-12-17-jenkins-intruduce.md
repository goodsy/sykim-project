---
title: 왜 Jenkins를 도입하는가
description: Quartz 단독 배치 운영의 한계와 Jenkins 도입을 결정한 이유
tags: [tech]
---

# 왜 Jenkins를 도입했는가
_Quartz 단독 배치 운영의 한계와 Jenkins 도입을 결정한 이유_

배치 시스템을 설계할 때 가장 먼저 떠오르는 선택지는 보통 **Quartz**다.  
애플리케이션 내부에서 스케줄을 관리할 수 있고 코드 기반으로 제어하기도 쉽다.

나 역시 처음에는 Quartz 단독 구조로 배치를 운영했다.  
문제는 **배치가 “돌아가는 것”과 “운영되는 것”은 다르다**는 점이었다.

이 글은 Jenkins의 기능을 소개하기 위한 글이 아니며  
정산·배치 시스템을 운영하면서 **왜 Jenkins가 필요해졌는지**,  
그리고 **어떤 문제를 해결하기 위해 도입했는지**를 정리한 기록이다.

---

## Quartz 단독 구조에서 시작했다

초기 배치 구조는 단순했다.

- 애플리케이션 내부에 Quartz Scheduler
- 정해진 시간에 배치 실행
- 실패 시 로그 확인 후 재실행

기능적으로는 충분했다.  
문제는 **운영 상황**에서 드러나기 시작했다.

---

### 문제가 된 건 “장애 상황”이었다

배치 실행 중 장애가 발생하면 항상 비슷한 질문이 나왔다.

- 서버가 내려간 건가?
- 애플리케이션이 기동에 실패한 건가?
- 배치 로직 자체가 실패한 건가?

Quartz 단독 구조에서는  
이 세 가지가 **운영 관점에서 명확히 구분되지 않았다.**

> 결과적으로는 모두  
> **'배치가 안 돈다'**로 보였기 때문이다.

---

### 요약: Quartz 단독 운영에서 느낀 한계

- 서버 장애 = 스케줄러 중단
- 장애 원인 파악에 시간 소요
- 재처리 시 개발자 개입 빈번
- 운영자가 직접 제어하기 어려움

Quartz가 나쁘다기보다는,  
**정산·회계 배치 운영에는 부족한 부분이 있었다.**

---

## 배치 운영에서 더 중요했던 것

배치를 운영하면서 점점 중요해진 것은  
“정확한 시간에 실행”이 아니었다.

오히려 아래와 같은 요구가 더 컸다.

- 장애가 나도 빠르게 재실행할 수 있는가
- 서버 장애가 전체 배치 중단으로 이어지지 않는가
- 운영자가 직접 배치를 제어할 수 있는가
- 재처리 이력이 명확히 남는가

이 시점에서 우리는 이렇게 정리했다.

> **자동 스케줄링보다  
> 운영 제어와 장애 대응이 더 중요하다**

---

## Jenkins를 검토하게 된 이유

Jenkins를 검토한 이유는 단순했다.

> **배치 실행의 주체를  
> 애플리케이션 밖으로 분리하고 싶었다.**

Jenkins는 배치를 “언제” 실행할지는 잘 모른다.  
하지만 배치를 “어떻게 운영할지”에는 강점이 있다.

---

### Jenkins 도입 후 기대하는 점

#### 1. 배치 실행 구조가 바뀐다.

- Jenkins가 배치 실행을 트리거
- 애플리케이션은 실행 대상
- 실행 대상 서버는 교체 가능

즉,  
**서버 장애가 나도 Jenkins는 살아 있고,  
다른 서버에서 재실행할 수 있는 구조**가 되었다.

---

#### 2. 장애 원인 분리가 명확해진다.

Jenkins 연계 구조에서는 장애가 명확히 나뉜다.

- 애플리케이션 기동 실패 → 환경/인프라 문제
- 배치 실행 실패 → 데이터/로직 문제

운영 판단이 훨씬 빨라졌다.

---

#### 3. 재처리와 수동 실행이 쉬워진다.

정산 배치는 재처리 작업이 많으며 이를 얼마나 유연하게 구성하느냐가 중요하다.

- 특정 일자
- 특정 대상
- 특정 조건

Jenkins에서는
- 실행 이력
- 파라미터
- 실행 결과

가 모두 남는다.

운영자가 **UI 기준으로 안전하게 재실행**할 수 있게 되었다.

---

### Jenkins 도입으로 얻은 이점

- 서버 장애 대응 구조 개선
- 장애 원인 분리
- 재처리 안정성 향상
- 운영자 중심 배치 제어

---

## 하지만, Jenkins는 만능이 아니다

중요한 점은, Jenkins를 **배치 로직 실행자**로 사용하지 않았다는 것이다.

그러기 위해서는 Jenkins와 Quartz, Application 역할 경계를 명확히 해야 했다.

- Jenkins: 실행 트리거, 운영 제어
- Quartz: 내부 정책성 스케줄
- Spring Batch: 상태 관리와 데이터 처리

이 경계를 지키지 않으면  Jenkins는 새로운 기술 부채가 된다.

---

## 결론

Quartz는 **배치를 언제 실행할지**에 강하다.

Jenkins는 **배치를 어떻게 운영할지**에 강하다.

정산·회계처럼 실패 시 재처리가 필요하고 운영 안정성이 중요한 배치에서는,

> Quartz 단독보다  
> **Jenkins 연계 구조가 운영하기에 적합**하지 않을까 생각한다.
> 
> Jenkins는 장애가 났을 때 쓰는 도구가 아니라,  
> 장애가 나도 배치 운영이 흔들리지 않게 만드는 도구다.
